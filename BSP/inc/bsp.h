/*
*********************************************************************************************************
* @file    	bsp.h
* @author  	SY
* @version 	V1.0.0
* @date    	2016-4-15 14:04:44
* @IDE	 	V4.70.0.0
* @Chip    	STM32F107VC
* @brief   	锟藉级锟斤拷锟斤拷头锟侥硷拷
*********************************************************************************************************
* @attention
*
* 
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                              				Define to prevent recursive inclusion
*********************************************************************************************************
*/
#ifndef __BSP_H
#define __BSP_H

/*
*********************************************************************************************************
*                              				Exported Includes
*********************************************************************************************************
*/
// #include "utils.h"
// #include "config.h"
#include "main.h"
#include <stdio.h>
#include <string.h>
#include <stdint.h>
#include <math.h>
#include <stdlib.h>
#include <stdbool.h>
/*
*********************************************************************************************************
*                              				Exported define
*********************************************************************************************************
*/

	
/*
*********************************************************************************************************
*                              				Exported types
*********************************************************************************************************
*/
typedef enum
{
	TIM_ID_CORE = 0,
	TIM_ID_IO,
	TIM_ID_CTRL,
}TIM_ID_TypeDef;


/*
*********************************************************************************************************
*                              				BSP
*********************************************************************************************************
*/
// #include "bsp_dwt.h"
// #include "bsp_timer.h"
// #include "bsp_rtc.h"
// #include "bsp_i2c_bus.h"
// #include "bsp_spi_bus.h"
// #include "bsp_uart.h"
// #include "bsp_io.h"
// #include "bsp_uid.h" 
// #include "bsp_fram.h"
// #include "bsp_eeprom_24xx.h"
// #include "bsp_spi_flash.h"
// #include "bsp_pulse.h"
// #include "bsp_encoder.h"
#include "bsp_cs553x.h"
// #include "bsp_can_bus.h"
// #include "bsp_ch455g.h"
// #include "bsp_kzc8041.h"


/*
*********************************************************************************************************
*                              				Exported constants
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                              				Exported macro
*********************************************************************************************************
*/
#define CTRL_FREQ 50
// #define ECHO_DEBUG 1
// #define ECHO(level, fmt, ...)  do { printf(fmt "\r\n", ##__VA_ARGS__); } while(0)

#ifndef container_of
#define container_of(ptr, type, member) ({          \
    const typeof( ((type *)0)->member ) *__mptr = (ptr);    \
    (type *)( (char *)__mptr - offsetof(type,member) );})
#endif

/*
*********************************************************************************************************
* Function Name : BSP_ErrorHandler
* Description	: BSP锟斤拷锟斤拷锟斤拷
* Input			: None
* Output		: None
* Return		: None
*********************************************************************************************************
*/
static void __BSP_ErrorHandler(char *file, uint32_t line, const char *func)
{
	// ECHO(ECHO_DEBUG, "[BSP][ERROR] %s, %d, %s", file, line, func);
}

#define BSP_ErrorHandler()				__BSP_ErrorHandler(__FILE__, __LINE__, __FUNCTION__)

/*
*********************************************************************************************************
*                              				Exported variables
*********************************************************************************************************
*/
#define ARRAY_SIZE(x) 						(sizeof(x) / sizeof((x)[0])) 
extern SPI_HandleTypeDef hspi3;
/*
*********************************************************************************************************
*                              				Exported functions
*********************************************************************************************************
*/
uint32_t  BSP_CPU_ClkFreq (void);
void BSP_Init( void );
void bsp_ResetSystem(void);

#endif
/************************ (C) COPYRIGHT STMicroelectronics **********END OF FILE*************************/
